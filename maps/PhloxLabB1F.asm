PhloxLabB1F_MapScriptHeader;trigger count
	db 0
 ;callback count
	db 0

Spinner_up9: turn_waterfall_up
Spinner_up8: turn_waterfall_up
Spinner_up7: turn_waterfall_up
Spinner_up6: turn_waterfall_up
Spinner_up5: turn_waterfall_up
Spinner_up4: turn_waterfall_up
Spinner_up3: turn_waterfall_up
Spinner_up2: turn_waterfall_up
Spinner_up1: turn_waterfall_up
             step_end

Spinner_left9: turn_waterfall_left
Spinner_left8: turn_waterfall_left
Spinner_left7: turn_waterfall_left
Spinner_left6: turn_waterfall_left
Spinner_left5: turn_waterfall_left
Spinner_left4: turn_waterfall_left
Spinner_left3: turn_waterfall_left
Spinner_left2: turn_waterfall_left
Spinner_left1: turn_waterfall_left
             step_end

Spinner_right9: turn_waterfall_right
Spinner_right8: turn_waterfall_right
Spinner_right7: turn_waterfall_right
Spinner_right6: turn_waterfall_right
Spinner_right5: turn_waterfall_right
Spinner_right4: turn_waterfall_right
Spinner_right3: turn_waterfall_right
Spinner_right2: turn_waterfall_right
Spinner_right1: turn_waterfall_right
             step_end

Spinner_down9: turn_waterfall_down
Spinner_down8: turn_waterfall_down
Spinner_down7: turn_waterfall_down
Spinner_down6: turn_waterfall_down
Spinner_down5: turn_waterfall_down
Spinner_down4: turn_waterfall_down
Spinner_down3: turn_waterfall_down
Spinner_down2: turn_waterfall_down
Spinner_down1: turn_waterfall_down
             step_end

PhloxLabB1FTrap1:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap2:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left2
	end

PhloxLabB1FTrap3:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap4:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up3
	end

PhloxLabB1FTrap5:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap6:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up8
	end

PhloxLabB1FTrap7:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left9
	end

PhloxLabB1FTrap8:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap9:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left7
	end

PhloxLabB1FTrap10:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap11:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up9
	end

PhloxLabB1FTrap12:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up8
	end

PhloxLabB1FTrap13:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right1
	end

PhloxLabB1FTrap14:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap15:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right1
	end

PhloxLabB1FTrap16:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down3
	end

PhloxLabB1FTrap17:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down3
	end

PhloxLabB1FTrap18:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left2
	end

PhloxLabB1FTrap19:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down1
	end

PhloxLabB1FTrap20:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down1
	end

PhloxLabB1FTrap21:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap22:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap23:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left2
	end

PhloxLabB1FTrap24:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap25:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap26:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left9
	end

PhloxLabB1FTrap27:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap28:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap29:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap30:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left5
	end

PhloxLabB1FTrap31:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap32:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap33:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down2
	end

PhloxLabB1FTrap34:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap35:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up2
	end

PhloxLabB1FTrap36:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_up1
	end

PhloxLabB1FTrap37:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right9
	end

PhloxLabB1FTrap38:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right1
	end

PhloxLabB1FTrap39:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap40:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right1
	end

PhloxLabB1FTrap41:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right5
	end

PhloxLabB1FTrap42:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right1
	end

PhloxLabB1FTrap43:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right5
	end

PhloxLabB1FTrap44:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left2
	end

PhloxLabB1FTrap45:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left1
	end

PhloxLabB1FTrap46:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_right6
	end

PhloxLabB1FTrap47:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_left2
	end

PhloxLabB1FTrap48:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down1
	end

PhloxLabB1FTrap49:
	playsound SFX_SQUEAK
	applymovement 0, Spinner_down4
	end

PhloxLabB1F_Item_1:
	db MAX_REVIVE, 1

PhloxLabB1F_Item_2:
	db RARE_CANDY, 2

PhloxLabB1FNPC1:
	faceplayer
	opentext
	checkevent EVENT_PHLOX_LAB_B1F_KEY
	iftrue PhloxLabB1F_2565e2
	writetext PhloxLabB1FNPC1_Text_2565e8
	waitbutton
	winlosstext PhloxLabB1FNPC1Text_2566fe, 0
	setlasttalked 255
	writecode VAR_BATTLETYPE, BATTLETYPE_NORMAL
	loadtrainer OFFICER, 8
	startbattle
	reloadmapafterbattle
	playmapmusic
	opentext
	writetext PhloxLabB1FNPC1_Text_256705
	waitbutton
	verbosegiveitem LAB_CARD, 1
	waitbutton
	writetext PhloxLabB1FNPC1_Text_2567e3
	setevent EVENT_PHLOX_LAB_B1F_KEY
	endtext

PhloxLabB1F_2565e2:
	jumptext PhloxLabB1F_2565e2_Text_25682d

PhloxLabB1FNPC1_Text_2565e8:
	text "zzz<...>"

	para "Ah, uh, what?"

	para "What time is it?"

	para "Oh wait, are you"
	line "really supposed"
	cont "to be in here?"

	para "Trying to steal"
	line "equipment off of"

	para "private property,"
	line "are you now?"

	para "I'm afraid you have"
	line "to leave, pronto."

	para "<...>"

	para "Why do you just"
	line "stand there?"

	para "All silent?"

	para "You're not going"
	line "to play any mind"
	cont "games on me,"
	cont "this ends now!"
	done

PhloxLabB1FNPC1Text_2566fe:
	text "What?"
	done

PhloxLabB1FNPC1_Text_256705:
	text "OK, I'll be honest"
	line "with you here."

	para "I have nothing"
	line "else to defend"
	cont "myself with now."

	para "I have something"
	line "you might want<...>"

	para "I'll give it to you"
	line "if you just turn"
	cont "around and leave."

	para "When problems"
	line "happen here,"

	para "it's never ever"
	line "anybody's fault."
	done

PhloxLabB1FNPC1_Text_2567e3:
	text "That should get"
	line "you into the lab,"

	para "where you won't be"
	line "my problem<...>"
	done

PhloxLabB1F_2565e2_Text_25682d:
	text "I don't have"
	line "anything else"

	para "but the clothes"
	line "on my back, and"

	para "I haven't washed"
	line "those in weeks."
	done

PhloxLabB1F_MapEventHeader ;filler
	db 0, 0

;warps
	db 7
	warp_def $b, $3, 4, PHLOX_LAB_B1F
	warp_def $9, $21, 3, PHLOX_LAB_B1F
	warp_def $15, $19, 1, CAPER_CITY
	warp_def $b, $f, 1, CAPER_CITY
	warp_def $b, $13, 3, PHLOX_LAB_B1F
	warp_def $15, $1c, 8, ACQUA_LABBASEMENTPATH
	warp_def $15, $1d, 8, ACQUA_LABBASEMENTPATH

	;xy triggers
	db 49
	xy_trigger 0, $13, $1b, $0, PhloxLabB1FTrap1, $0, $0
	xy_trigger 0, $12, $1b, $0, PhloxLabB1FTrap2, $0, $0
	xy_trigger 0, $d, $5, $0, PhloxLabB1FTrap3, $0, $0
	xy_trigger 0, $10, $16, $0, PhloxLabB1FTrap4, $0, $0
	xy_trigger 0, $e, $16, $0, PhloxLabB1FTrap5, $0, $0
	xy_trigger 0, $c, $16, $0, PhloxLabB1FTrap6, $0, $0
	xy_trigger 0, $d, $15, $0, PhloxLabB1FTrap7, $0, $0
	xy_trigger 0, $b, $d, $0, PhloxLabB1FTrap8, $0, $0
	xy_trigger 0, $d, $b, $0, PhloxLabB1FTrap9, $0, $0
	xy_trigger 0, $c, $5, $0, PhloxLabB1FTrap10, $0, $0
	xy_trigger 0, $b, $c, $0, PhloxLabB1FTrap11, $0, $0
	xy_trigger 0, $c, $a, $0, PhloxLabB1FTrap12, $0, $0
	xy_trigger 0, $c, $3, $0, PhloxLabB1FTrap13, $0, $0
	xy_trigger 0, $c, $2, $0, PhloxLabB1FTrap14, $0, $0
	xy_trigger 0, $c, $1, $0, PhloxLabB1FTrap15, $0, $0
	xy_trigger 0, $9, $0, $0, PhloxLabB1FTrap16, $0, $0
	xy_trigger 0, $4, $0, $0, PhloxLabB1FTrap17, $0, $0
	xy_trigger 0, $3, $2, $0, PhloxLabB1FTrap18, $0, $0
	xy_trigger 0, $2, $3, $0, PhloxLabB1FTrap19, $0, $0
	xy_trigger 0, $2, $4, $0, PhloxLabB1FTrap20, $0, $0
	xy_trigger 0, $2, $6, $0, PhloxLabB1FTrap21, $0, $0
	xy_trigger 0, $2, $8, $0, PhloxLabB1FTrap22, $0, $0
	xy_trigger 0, $2, $9, $0, PhloxLabB1FTrap23, $0, $0
	xy_trigger 0, $2, $d, $0, PhloxLabB1FTrap24, $0, $0
	xy_trigger 0, $3, $d, $0, PhloxLabB1FTrap25, $0, $0
	xy_trigger 0, $4, $15, $0, PhloxLabB1FTrap26, $0, $0
	xy_trigger 0, $5, $16, $0, PhloxLabB1FTrap27, $0, $0
	xy_trigger 0, $1, $10, $0, PhloxLabB1FTrap28, $0, $0
	xy_trigger 0, $4, $b, $0, PhloxLabB1FTrap29, $0, $0
	xy_trigger 0, $4, $9, $0, PhloxLabB1FTrap30, $0, $0
	xy_trigger 0, $4, $5, $0, PhloxLabB1FTrap31, $0, $0
	xy_trigger 0, $3, $5, $0, PhloxLabB1FTrap32, $0, $0
	xy_trigger 0, $3, $7, $0, PhloxLabB1FTrap33, $0, $0
	xy_trigger 0, $3, $a, $0, PhloxLabB1FTrap34, $0, $0
	xy_trigger 0, $6, $a, $0, PhloxLabB1FTrap35, $0, $0
	xy_trigger 0, $5, $a, $0, PhloxLabB1FTrap36, $0, $0
	xy_trigger 0, $7, $b, $0, PhloxLabB1FTrap37, $0, $0
	xy_trigger 0, $9, $9, $0, PhloxLabB1FTrap38, $0, $0
	xy_trigger 0, $7, $9, $0, PhloxLabB1FTrap39, $0, $0
	xy_trigger 0, $6, $8, $0, PhloxLabB1FTrap40, $0, $0
	xy_trigger 0, $7, $17, $0, PhloxLabB1FTrap41, $0, $0
	xy_trigger 0, $8, $6, $0, PhloxLabB1FTrap42, $0, $0
	xy_trigger 0, $9, $5, $0, PhloxLabB1FTrap43, $0, $0
	xy_trigger 0, $9, $3, $0, PhloxLabB1FTrap44, $0, $0
	xy_trigger 0, $9, $2, $0, PhloxLabB1FTrap45, $0, $0
	xy_trigger 0, $8, $1, $0, PhloxLabB1FTrap46, $0, $0
	xy_trigger 0, $7, $3, $0, PhloxLabB1FTrap47, $0, $0
	xy_trigger 0, $8, $4, $0, PhloxLabB1FTrap48, $0, $0
	xy_trigger 0, $5, $4, $0, PhloxLabB1FTrap49, $0, $0

	;signposts
	db 0

	;people-events
	db 3
	person_event SPRITE_POKE_BALL, 10, 17, SPRITEMOVEDATA_ITEM_TREE, 0, 0, -1, -1, PAL_OW_YELLOW, 1, 0, PhloxLabB1F_Item_1, EVENT_PHLOX_LAB_B1F_ITEM_1
	person_event SPRITE_POKE_BALL, 5, 11, SPRITEMOVEDATA_ITEM_TREE, 0, 0, -1, -1, PAL_OW_BLUE, 1, 0, PhloxLabB1F_Item_2, EVENT_PHLOX_LAB_B1F_ITEM_2
	person_event SPRITE_OFFICER, 11, 24, SPRITEMOVEDATA_STANDING_LEFT, 0, 0, -1, -1, PAL_OW_GREEN, 0, 0, PhloxLabB1FNPC1, -1
